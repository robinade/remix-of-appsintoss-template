/**
 * ═══════════════════════════════════════════════════════════════════════════
 * 앱인토스 미니앱 핵심 설정 파일 (granite.config.ts)
 * ═══════════════════════════════════════════════════════════════════════════
 * 
 * 🎯 이 파일은 앱인토스 플랫폼 배포에 필수적인 설정입니다.
 * 
 * ⚠️ 출시 전 필수 체크리스트:
 * 1. [ ] appName: 콘솔에서 등록한 이름과 정확히 일치
 * 2. [ ] brand.displayName: 앱 표시 이름 입력
 * 3. [ ] brand.icon: 600x600px 앱 아이콘 URL 입력
 * 4. [ ] brand.primaryColor: 브랜드 컬러 입력
 * 
 * 📚 공식 문서: https://developers-apps-in-toss.toss.im/tutorials/webview.html
 * 📋 출시 체크리스트: 프로젝트 루트의 RELEASE_CHECKLIST.md 참고
 */

import { defineConfig } from '@apps-in-toss/web-framework/config';

export default defineConfig({
  // ═══════════════════════════════════════════════════════════════════════
  // 🔑 appName (필수 - 출시 필수 설정 #1)
  // ═══════════════════════════════════════════════════════════════════════
  /**
   * 앱인토스 콘솔에서 등록한 앱 이름과 **정확히 동일**해야 합니다.
   * 
   * ⚠️ 중요:
   * - 이 값이 콘솔과 다르면 출시 검토에서 반려됩니다!
   * - 딥링크 주소로 사용됩니다: intoss://{appName}
   * - 영문 소문자, 숫자, 하이픈만 사용 가능
   * 
   * 📋 설정 방법:
   * 1. 앱인토스 콘솔 접속: https://console-apps-in-toss.toss.im
   * 2. 앱 등록 → appName 입력
   * 3. 여기에 동일한 값 입력
   * 
   * @example 'my-todo-app' | 'shopping-mall' | 'game-puzzle'
   */
  appName: 'todo-app', // ⚠️ TODO: 콘솔에서 등록한 앱 이름으로 변경하세요!

  // ═══════════════════════════════════════════════════════════════════════
  // 🌐 웹 서버 설정 (개발용)
  // ═══════════════════════════════════════════════════════════════════════
  /**
   * 개발 서버 설정입니다.
   * 프로덕션 배포에는 영향을 주지 않습니다.
   */
  web: {
    host: 'localhost', // 💡 실기기 테스트 시 PC의 IP 주소로 변경 (예: '192.168.0.100')
    port: 5173,
    commands: {
      dev: 'vite',           // 💡 실기기 테스트 시 'vite --host'로 변경
      build: 'vite build',
    },
  },

  // ═══════════════════════════════════════════════════════════════════════
  // 🎨 브랜드 설정 (필수 - 출시 필수 설정 #2, #3, #4)
  // ═══════════════════════════════════════════════════════════════════════
  /**
   * 네비게이션 바, 브릿지 뷰 등에 표시되는 앱 브랜드 정보입니다.
   * 앱인토스 콘솔에서 입력한 정보와 일치해야 합니다.
   */
  brand: {
    /**
     * ─────────────────────────────────────────────────────────────────────
     * 📛 앱 표시 이름 (출시 필수 설정 #2)
     * ─────────────────────────────────────────────────────────────────────
     * 네비게이션 바에 표시되는 앱 이름입니다.
     * 한글로 작성하는 것을 권장합니다.
     * 
     * @example '할일 관리' | '쇼핑몰' | '퍼즐 게임'
     */
    displayName: '할일 관리', // ⚠️ TODO: 앱 표시 이름으로 변경하세요!

    /**
     * ─────────────────────────────────────────────────────────────────────
     * 🎨 브랜드 컬러 (출시 필수 설정 #3)
     * ─────────────────────────────────────────────────────────────────────
     * HEX 형식으로 입력합니다. (반드시 # 포함)
     * TDS 컴포넌트와 브릿지 뷰에 적용됩니다.
     * 
     * 💡 브랜드 컬러가 없다면:
     * - 로고에서 가장 많이 쓰인 색상 사용
     * - 컬러 추출 사이트: https://lokeshdhakar.com/projects/color-thief/
     * 
     * @example '#3182F6' (토스 블루) | '#00C471' (그린) | '#FF5A5F' (레드)
     */
    primaryColor: '#3182F6', // ⚠️ TODO: 브랜드 컬러로 변경하세요!

    /**
     * ─────────────────────────────────────────────────────────────────────
     * 🖼️ 앱 아이콘 URL (출시 필수 설정 #4)
     * ─────────────────────────────────────────────────────────────────────
     * 네비게이션 바, 브릿지 뷰, 앱 목록에 표시됩니다.
     * 
     * ⚠️ 필수 규격:
     * - 크기: 600x600px (정사각형)
     * - 형식: PNG (투명 배경 불가, 배경색 필수)
     * - 모서리: 각진 형태 (둥근 모서리 불가!)
     * - 색상: 라이트/다크 모드 모두에서 잘 보여야 함
     * 
     * 📥 아이콘 가이드 다운로드:
     * https://developers-apps-in-toss.toss.im/resources/prepare/logo_guide.pdf
     * 
     * 💡 아이콘 업로드 방법:
     * 1. CDN에 업로드 (예: AWS S3, Cloudflare, Vercel)
     * 2. 앱인토스 콘솔에도 동일한 이미지 업로드
     * 3. 여기에 URL 입력
     * 
     * @example 'https://cdn.example.com/app-icon-600x600.png'
     */
    icon: '', // ⚠️ TODO: 600x600px 앱 아이콘 URL을 입력하세요! (출시 필수)
  },

  // ═══════════════════════════════════════════════════════════════════════
  // 🔐 권한 설정
  // ═══════════════════════════════════════════════════════════════════════
  /**
   * 앱에서 사용할 네이티브 권한을 선언합니다.
   * 필요한 권한만 추가하세요. (불필요한 권한은 검토 반려 사유)
   * 
   * 사용 가능한 권한:
   * - 'camera'    : 카메라 접근 (사진 촬영)
   * - 'photo'     : 사진 앨범 접근
   * - 'location'  : 위치 정보 (GPS)
   * - 'contacts'  : 연락처 접근
   * - 'clipboard' : 클립보드 접근
   * 
   * @example ['camera', 'photo'] // 카메라와 앨범 사용
   */
  permissions: [],

  // ═══════════════════════════════════════════════════════════════════════
  // 📦 빌드 출력 디렉토리
  // ═══════════════════════════════════════════════════════════════════════
  /**
   * granite build 결과물이 저장되는 경로입니다.
   * Vite 기본 출력 경로(dist)와 동일하게 유지하세요.
   */
  outdir: 'dist',

  // ═══════════════════════════════════════════════════════════════════════
  // 📱 웹뷰 속성 설정
  // ═══════════════════════════════════════════════════════════════════════
  webViewProps: {
    /**
     * 웹뷰 타입
     * - 'partner': 일반 파트너사 콘텐츠 (기본값) - 대부분의 앱
     * - 'game'   : 전체 화면 게임 콘텐츠 - 게임 앱용
     */
    type: 'partner',
  },
});

// ═══════════════════════════════════════════════════════════════════════════
// 📋 출시 전 최종 체크리스트
// ═══════════════════════════════════════════════════════════════════════════
/**
 * 아래 항목을 모두 확인했는지 체크하세요:
 * 
 * [ ] 1. appName이 앱인토스 콘솔과 정확히 일치하는가?
 * [ ] 2. brand.displayName이 적절한 앱 이름으로 설정되었는가?
 * [ ] 3. brand.primaryColor가 브랜드 컬러로 설정되었는가?
 * [ ] 4. brand.icon에 600x600px 아이콘 URL이 입력되었는가?
 * [ ] 5. permissions에 필요한 권한만 포함되어 있는가?
 * 
 * 모든 항목 확인 후 빌드 테스트:
 * $ npm run granite:build
 */
